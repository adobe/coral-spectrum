/**
 * Copyright 2019 Adobe. All rights reserved.
 * This file is licensed to you under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License. You may obtain a copy
 * of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS
 * OF ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 */

$shell-animation-time = 350ms;
$shell-menubar-badge-background-color = rgb(235, 50, 45);
$shell-menubar-badge-text-color = white;

coral-shell-menu {
  display: none;
}

._coral-Shell-menubar {
  // Live in harmony with buttons
  display: flex;
}

._coral-Shell-menubar-item {
  vertical-align: top;
  padding-left: 8px;
  padding-right: 8px;
  outline: none;

  &[iconsize="M"] ._coral-Shell-menu-button {
    top: -1px;
  }
}

._coral-Shell-menubar-item--circle {
  ._coral-Icon--sizeXXS ._coral-Icon--image {
    border-radius : 9px;
  }

  ._coral-Icon--sizeXS ._coral-Icon--image {
    border-radius : 12px;
  }

  ._coral-Icon--sizeS ._coral-Icon--image {
    border-radius : 18px;
  }

  ._coral-Icon--sizeM ._coral-Icon--image {
    border-radius : 24px;
  }
}

// todo overwriting styles set by PopperJS
._coral-Shell-menu--full {
  display: block;
  visibility: visible;
  opacity: 1;
  border: none !important;
  top: 48px !important;
  left: 0 !important;
  right: 0 !important;
  // Keep it under the coral-shell-header
  z-index: 10000 !important;
  transform: translateY(calc(-100% - 48px)) !important;
  transition: transform $shell-animation-time cubic-bezier(.42, -.01, .175, 1) !important;

  coral-popover-content {
    // Strech out
    height: 100%;
  }

  &.is-open {
    transform: translateY(0) translateX(0) !important;
    // Avoid overflow
    max-height: calc(100% - 48px);
  }
}

._coral-Shell-menu-button {
  position: relative;
}

._coral-Shell-menu-button[badge]:after {
  content: attr(badge);
  position: absolute;
  top: 3px;
  left: 16px;

  min-width: 5px;
  height: 12px;
  padding-left: 3.5px;
  padding-right: 3.5px;

  line-height: 12px;
  text-align: center;

  font-weight: bold;
  font-size: 9px;
  color: $shell-menubar-badge-text-color;

  border-radius: 16px;

  background-color: $shell-menubar-badge-background-color;
}
